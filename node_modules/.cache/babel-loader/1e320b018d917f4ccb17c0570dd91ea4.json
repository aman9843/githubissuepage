{"ast":null,"code":"import _asyncToGenerator from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import RemoveRedEyeIcon from\"@material-ui/icons/RemoveRedEye\";import EditIcon from\"@material-ui/icons/Edit\";import DeleteIcon from\"@material-ui/icons/Delete\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Table=function Table(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),getuserdata=_useState2[0],setUserData=_useState2[1];console.log(getuserdata);var getdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://githubissue123.herokuapp.com/table\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);if(res.status===422||!data){console.log(\"error\");}else{setUserData(data);console.log(\"got  added\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getdata(){return _ref.apply(this,arguments);};}();useEffect(function(){getdata();},[]);var deleteuser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res2,deletedata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://githubissue123.herokuapp.com/deleteuser/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:res2=_context2.sent;_context2.next=5;return res2.json();case 5:deletedata=_context2.sent;console.log(deleteuser);if(res2.status===422||!deletedata){console.log(\"error\");}else{console.log(\"data delted\");getdata();}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteuser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container tb\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"add_btn mt-2 mb-2\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/addissues\",className:\"btn btn-primary\",children:\"Add Issues\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"signup-image-link\",children:\"Go To Home Page\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-dark\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"username\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"job\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"number\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:getuserdata.map(function(element,id){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:id+1}),/*#__PURE__*/_jsx(\"td\",{children:element.name}),/*#__PURE__*/_jsx(\"td\",{children:element.email}),/*#__PURE__*/_jsx(\"td\",{children:element.work}),/*#__PURE__*/_jsx(\"td\",{children:element.mobile}),/*#__PURE__*/_jsxs(\"td\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"view/\".concat(element._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn \",children:/*#__PURE__*/_jsx(RemoveRedEyeIcon,{})})}),/*#__PURE__*/_jsx(NavLink,{to:\"edit/\".concat(element._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn  \",children:/*#__PURE__*/_jsx(EditIcon,{})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteuser(element._id);},className:\"btn btn \",children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]})});})})]})]})})});};export default Table;","map":{"version":3,"sources":["/home/aman/React/githubissuepage/src/components/Table.js"],"names":["React","useEffect","useState","RemoveRedEyeIcon","EditIcon","DeleteIcon","NavLink","Table","getuserdata","setUserData","console","log","getdata","fetch","method","headers","res","json","data","status","deleteuser","id","res2","deletedata","map","element","name","email","work","mobile","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport RemoveRedEyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport { NavLink } from \"react-router-dom\";\n\nconst Table = () => {\n\n  const [getuserdata, setUserData] = useState([]);\n  console.log(getuserdata);\n\n  const getdata = async () => {\n    const res = await fetch(\"https://githubissue123.herokuapp.com/table\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      }\n    });\n\n    const data = await res.json();\n    console.log(data);\n\n    if (res.status === 422 || !data) {\n      console.log(\"error\");\n    } else {\n      setUserData(data);\n      console.log(\"got  added\");\n    }\n  }\n\n  useEffect(() => {\n    getdata();\n  }, [])\n\nconst deleteuser = async (id) => {\nconst res2 = await fetch(`https://githubissue123.herokuapp.com/deleteuser/${id}`,{\n    method:\"DELETE\",\n    headers: {\n      \"Content-Type\" : \"application/json\"\n    }\n  })\n\n  const deletedata = await res2.json();\n  console.log(deleteuser);\n\n  if(res2.status === 422 || !deletedata) {\n    console.log(\"error\")\n  } else {\n    console.log(\"data delted\")\n    getdata();\n  }\n} \n\n\n  return (\n    <>\n      <div className=\"mt-5\">\n       \n        <div className=\"container tb\">\n          <div className=\"add_btn mt-2 mb-2\">\n            <NavLink to=\"/addissues\" className=\"btn btn-primary\">\n              Add Issues\n            </NavLink>\n            <NavLink to=\"/\" className=\"signup-image-link\">\n              Go To Home Page\n              </NavLink>\n          </div>\n         \n\n          <table className=\"table\">\n            <thead>\n              <tr className=\"table-dark\">\n                <th scope=\"col\">id</th>\n                <th scope=\"col\">username</th>\n                <th scope=\"col\">email</th>\n                <th scope=\"col\">job</th>\n                <th scope=\"col\">number</th>\n                <th scope=\"col\"></th>\n               \n              </tr>\n            </thead>\n            <tbody>\n\n            {\n              getuserdata.map((element,id) => {\n                return(\n                  <>\n                    <tr>\n                      <th scope=\"row\">{id+1}</th>\n                      <td>{element.name}</td>\n                      <td>{element.email}</td>\n                      <td>{element.work}</td>\n                      <td>{element.mobile}</td>\n                    \n\n                      <td className=\"d-flex justify-content-between\">\n                       <NavLink to={`view/${element._id}`}><button className=\"btn \">\n                          <RemoveRedEyeIcon />\n                        </button></NavLink> \n                        <NavLink to={`edit/${element._id}`}><button className=\"btn btn  \">\n                          <EditIcon />\n                        </button></NavLink>\n                        <button onClick={()=> deleteuser(element._id)} className=\"btn btn \">\n                          <DeleteIcon />\n                        </button>\n                      </td>\n                    </tr>\n\n                  </>\n                )\n              })\n            }\n\n                   \n                  \n              \n              \n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}