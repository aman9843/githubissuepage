{"ast":null,"code":"import _asyncToGenerator from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/aman/React/githubissuepage/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import{NavLink,useParams,useHistory}from\"react-router-dom\";import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit=function Edit(){toast.configure();var history=useHistory();var _useState=useState({name:\"\",email:\"\",age:\"\",mobile:\"\",work:\"\",add:\"\",desc:\"\"}),_useState2=_slicedToArray(_useState,2),inpval=_useState2[0],setInpval=_useState2[1];var setData=function setData(e){console.log(e.target.value);var _e$target=e.target,name=_e$target.name,value=_e$target.value;setInpval(function(preval){return _objectSpread(_objectSpread({},preval),{},_defineProperty({},name,value));});};var _useParams=useParams(\"\"),id=_useParams.id;console.log(id);var getdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://githubissue123.herokuapp.com/getuser/\".concat(id),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);if(res.status===422||!data){console.log(\"error\");}else{setInpval(data);console.log(\"got  added\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getdata(){return _ref.apply(this,arguments);};}();useEffect(function(){getdata();},[]);var updateuser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var name,email,age,mobile,work,add,desc,res2,data2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();name=inpval.name,email=inpval.email,age=inpval.age,mobile=inpval.mobile,work=inpval.work,add=inpval.add,desc=inpval.desc;_context2.next=4;return fetch(\"https://githubissue123.herokuapp.com/updateuser/\".concat(id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,email:email,age:age,mobile:mobile,work:work,add:add,desc:desc})});case 4:res2=_context2.sent;_context2.next=7;return res2.json();case 7:data2=_context2.sent;console.log(data2);if(res2.status===422||!data2){toast(\"Please Fill The Data\");}else{history.push(\"/table\");toast(\"Data Updated SuccessFully!\");}case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function updateuser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"home\"}),/*#__PURE__*/_jsx(\"form\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label c\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:inpval.name,onChange:setData,className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label c\",children:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:inpval.email,onChange:setData,className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label c\",children:\"age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"age\",value:inpval.age,onChange:setData,className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label c\",children:\"Mobile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"mobile\",value:inpval.mobile,onChange:setData,className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label c\",children:\"Work\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"work\",value:inpval.work,onChange:setData,className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-6 col-md-6 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label c\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"add\",value:inpval.add,onChange:setData,className:\"form-control\",id:\"exampleInputPassword1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-lg-12 col-md-12 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label c\",children:\"Desciption of your Issue\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"desc\",value:inpval.desc,onChange:setData,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlFile1 d\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control-file\",id:\"exampleFormControlFile1\"})]}),/*#__PURE__*/_jsx(\"form\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:updateuser,className:\"btn btn-primary\",children:\"Submit\"})]})})]});};export default Edit;","map":{"version":3,"sources":["/home/aman/React/githubissuepage/src/components/Edit.js"],"names":["React","useState","useEffect","NavLink","useParams","useHistory","toast","Edit","configure","history","name","email","age","mobile","work","add","desc","inpval","setInpval","setData","e","console","log","target","value","preval","id","getdata","fetch","method","headers","res","json","data","status","updateuser","preventDefault","body","JSON","stringify","res2","data2","push"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport { NavLink, useParams, useHistory} from \"react-router-dom\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Edit = () => {\n\n    toast.configure()\n\n    const history = useHistory();\n\n    const[inpval,setInpval] = useState({\n        name:\"\",\n        email:\"\",\n        age:\"\",\n        mobile:\"\",\n        work:\"\",\n        add:\"\",\n        desc:\"\"\n\n    })\n\n    const setData = (e) => {\n        console.log(e.target.value);\n        const {name,value}= e.target;\n        setInpval((preval)=>{\n            return {\n                ...preval,\n                [name]:value\n            }\n        })\n\n\n    }\n\n    const{id} = useParams(\"\");\n    console.log(id);\n\n\n\nconst getdata = async () => {\n    const res = await fetch(`https://githubissue123.herokuapp.com/getuser/${id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      }\n    });\n\n    const data = await res.json();\n    console.log(data);\n\n    if (res.status === 422 || !data) {\n      console.log(\"error\");\n    } else {\n      setInpval(data);\n      console.log(\"got  added\");\n    }\n  }\n\n\n  useEffect(()=>{\n      getdata();\n  }, []);\n\n\n  const updateuser = async (e) => {\n      e.preventDefault();\n\n      const {name,email,age,mobile,work,add,desc} = inpval\n\n      const res2 = await fetch(`https://githubissue123.herokuapp.com/updateuser/${id}`, {\n          method:\"PATCH\",\n          headers:{\n              \"Content-Type\": \"application/json\"\n          },\n\n          body:JSON.stringify({\n              name,email,age,mobile,work,add,desc\n          })\n      })\n\n      const data2 = await res2.json()\n      console.log(data2);\n\n      if(res2.status === 422 || !data2) {\n        toast(\"Please Fill The Data\")\n      } else {\n          history.push(\"/table\")\n         toast(\"Data Updated SuccessFully!\")\n      }\n  }\n\n \n\n  return (\n\n    <div className=\"container mt-5\">\n          \n            <NavLink to=\"/\">home</NavLink>\n            \n      \n            <form className=\"mt-4\">\n                <div className=\"row\">\n                    <div className=\"mb-3 col-lg-6 col-md-6 col-12\">\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label c\">Name</label>\n                        <input type=\"text\"  name=\"name\" value={inpval.name} onChange={setData} className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\n                    </div>\n                    <div className=\"mb-3 col-lg-6 col-md-6 col-12\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label c\">email</label>\n                        <input type=\"email\"  name=\"email\" value={inpval.email} onChange={setData}  className=\"form-control\" id=\"exampleInputPassword1\" />\n                    </div>\n                    <div className=\"mb-3 col-lg-6 col-md-6 col-12\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label c\">age</label>\n                        <input type=\"text\"  name=\"age\" value={inpval.age} onChange={setData}  className=\"form-control\" id=\"exampleInputPassword1\" />\n                    </div>\n                    <div className=\"mb-3 col-lg-6 col-md-6 col-12\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label c\">Mobile</label>\n                        <input type=\"number\"  name=\"mobile\" value={inpval.mobile} onChange={setData}  className=\"form-control\" id=\"exampleInputPassword1\" />\n                    </div>\n                    <div className=\"mb-3 col-lg-6 col-md-6 col-12\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label c\">Work</label>\n                        <input type=\"text\"  name=\"work\" value={inpval.work} onChange={setData}  className=\"form-control\" id=\"exampleInputPassword1\" />\n                    </div>\n                    <div className=\"mb-3 col-lg-6 col-md-6 col-12\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label c\">Address</label>\n                        <input type=\"text\"  name=\"add\"  value={inpval.add} onChange={setData}  className=\"form-control\" id=\"exampleInputPassword1\" />\n                    </div>\n                    <div className=\"mb-3 col-lg-12 col-md-12 col-12\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label c\">Desciption of your Issue</label>\n                        <textarea name=\"desc\" value={inpval.desc} onChange={setData}  className=\"form-control\"></textarea>\n                    </div>\n                    <div className=\"form\">\n                      <label htmlFor=\"exampleFormControlFile1 d\"></label>\n                      <input type=\"file\"  className=\"form-control-file\" id=\"exampleFormControlFile1\"/>\n                    </div>\n                    <form>\n                  \n                   </form>\n\n                    <button type=\"submit\" onClick={updateuser} className=\"btn btn-primary\">Submit</button>\n                </div>\n               \n            </form>\n            \n        </div>\n              \n  );\n};\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}